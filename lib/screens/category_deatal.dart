import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:newsapp/manger/cubit.dart';import 'package:newsapp/manger/state.dart';import 'package:newsapp/model/category.dart';import 'package:url_launcher/url_launcher.dart';class CategoryDetailsPage extends StatelessWidget {  final Category category;  const CategoryDetailsPage({super.key, required this.category});  @override  Widget build(BuildContext context) {    return BlocProvider(      create: (context) => AppCubit()..getNws(category: category.title.toLowerCase()),      child: Scaffold(        appBar: AppBar(          backgroundColor: Colors.teal,          title: Text(category.title),          centerTitle: true,        ),        body: BlocBuilder<AppCubit, AppState>(          builder: (context, state) {            if (state is LoadingState) {              return const Center(child: CircularProgressIndicator());            } else if (state is ErrorState) {              return Center(child: Text(state.errorMessage));            } else if (state is LoadedState) {              return ListView.builder(                itemCount: state.x.length,                padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),                itemBuilder: (context, index) {                  final article = state.x[index];                  return GestureDetector(                    child: Container(                      margin: const EdgeInsets.only(bottom: 15),                      decoration: BoxDecoration(                        borderRadius: BorderRadius.circular(15),                        color: Colors.white,                        boxShadow: [                          BoxShadow(                            color: Colors.black,                            spreadRadius: 2,                            blurRadius: 5,                            offset: const Offset(0, 3),                          ),                        ],                      ),                      child: Column(                        crossAxisAlignment: CrossAxisAlignment.start,                        children: [                          ClipRRect(                            borderRadius: const BorderRadius.vertical(top: Radius.circular(15)),                            child: Image.network(                              article.urlToImage ??                                  "https://images.pexels.com/photos/3747132/pexels-photo-3747132.jpeg?auto=compress&cs=tinysrgb&w=600",                              height: 200,                              width: double.infinity,                              fit: BoxFit.cover,                            ),                          ),                          Padding(                            padding: const EdgeInsets.fromLTRB(16, 10, 16, 0),                            child: Column(                              crossAxisAlignment: CrossAxisAlignment.start,                              children: [                                Text(                                  article.title,                                  style: const TextStyle(                                    fontSize: 18,                                    fontWeight: FontWeight.bold,                                  ),                                ),                                const SizedBox(height: 5),                                Text(                                  article.description ?? "No Description",                                  style: const TextStyle(color: Colors.grey),                                  maxLines: 2,                                  overflow: TextOverflow.ellipsis,                                ),                              ],                            ),                          ),                        ],                      ),                    ),                  );                },              );            } else {              return const Center(child: Text("Something went wrong"));            }          },        ),      ),    );  }}